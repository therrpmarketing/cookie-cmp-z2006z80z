<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-N5QLJ5XR');</script>
    <!-- End Google Tag Manager -->
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cookie Consent Management Platform</title>
    <link rel="stylesheet" href="/styles.css">
    <!-- Add any additional CSS files here -->
</head>
<body>
    
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-N5QLJ5XR"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
    
    <div class="cmp-container">
        <header>
            <h1>Cookie Consent Management Platform</h1>
        </header>
        
        <main>
            <!-- Your CMP interface elements will go here -->
            <div id="cmp-panel">
                <!-- This is where your cookie consent UI will be rendered -->
            </div>
        </main>
        
        <footer>
            <p>&copy; 2025 CookiePie</p>
        </footer>
    </div>

<!-- This is new step for Firebase (FIRST WORKING one) START -->
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-analytics.js"></script>
    <script>
        // Your Firebase configuration
        var firebaseConfig = {
            apiKey: "AIzaSyB0yG8sGI47Zdncr21avyeJauW4Z6qJU8E",
            authDomain: "cookie-cmp-sys.firebaseapp.com",
            databaseURL: "https://cookie-cmp-sys-default-rtdb.firebaseio.com",
            projectId: "cookie-cmp-sys",
            storageBucket: "cookie-cmp-sys.firebasestorage.app",
            messagingSenderId: "252822009652",
            appId: "1:252822009652:web:6bfbdf28d98953ccb89761",
            measurementId: "G-DLGR6XFPP5"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);

        // Initialize Firebase Analytics
        var analytics = firebase.analytics();
    </script>
<!-- This is new step for Firebase (FIRST WORKING one) ENDS -->

<!-- This is new step for Firebase (Second one) START -->
<script>
// Firebase configuration (you will need to replace these values with your own Firebase credentials)
const firebaseConfig = {
            apiKey: "AIzaSyB0yG8sGI47Zdncr21avyeJauW4Z6qJU8E",
            authDomain: "cookie-cmp-sys.firebaseapp.com",
            databaseURL: "https://cookie-cmp-sys-default-rtdb.firebaseio.com",
            projectId: "cookie-cmp-sys",
            storageBucket: "cookie-cmp-sys.firebasestorage.app",
            messagingSenderId: "252822009652",
            appId: "1:252822009652:web:6bfbdf28d98953ccb89761"
};

// Initialize Firebase
firebase.initializeApp(firebaseConfig);

// Get a reference to the Firebase Realtime Database
const database = firebase.database();
</script>
<!-- This is new step for Firebase (Second one) END -->


    
<!-- Other HTML content -->

<!-- Firebase and consent logging logic -->
<script>
  // logConsentAction function
  function logConsentAction(sessionId, action, preferences) {
    const consentLogRef = database.ref('consentLogs/' + sessionId);
    consentLogRef.set({
      action: action,
      preferences: preferences,
      timestamp: new Date().toISOString()
    }, (error) => {
      if (error) {
        console.error("Error writing consent log:", error);
      } else {
        console.log("Consent log successfully written.");
      }
    });
  }

  // Later in the same script block (or another)
  document.getElementById("acceptAllBtn").addEventListener("click", function () {
    const sessionId = "session_" + Date.now() + Math.random().toString(36).substring(2);
    const preferences = {
      functional: true,
      analytics: true,
      performance: true,
      advertisement: true
    };
    logConsentAction(sessionId, "accept_all", preferences);
  });

  // Repeat similar logic for other buttons (reject, customize, etc.)
</script>

</body>



    
    
</body>
</html>
